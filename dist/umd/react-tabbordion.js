!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("prop-types"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["prop-types","react","react-dom"],t):"object"==typeof exports?exports.ReactTabbordion=t(require("prop-types"),require("react"),require("react-dom")):e.ReactTabbordion=t(e.PropTypes,e.React,e.ReactDOM)}(this,function(e,t,n){return function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/build/",t(t.s=8)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":s(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.tabbordionPanelProps=t.tabbordionModifierTypes=t.tabbordionBlockElementTypes=void 0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(2),f=a(c),p=n(1),b=a(p),h=n(4),y=0,m=0,v=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return y++,n.uniqId="tabbordion-"+m,m++,n.getNextState=n.getNextState.bind(n),n.onChange=n.onChange.bind(n),n.firstVisibleIndex=null,n.lastVisibleIndex=null,n.state=n.getNextState(e,{stateful:!1},Array.isArray(e.panels)?e.panels:e.initialPanels),n}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.getNextState(e,this.state);t!==this.state&&this.setState(t)}},{key:"componentWillUnmount",value:function(){0===--y&&(m=0)}},{key:"getChildContext",value:function(){var e=(0,h.getArray)(this.state.stateful?this.state.panels:this.props.panels);return{bemModifiers:this.props.bemModifiers,bemSeparator:this.props.bemSeparator,blockElements:this.props.blockElements,checkedPanels:e.filter(h.getChecked).map(h.getIndex),disabledPanels:e.filter(h.getDisabled).map(h.getIndex),firstVisiblePanel:this.firstVisibleIndex,lastVisiblePanel:this.lastVisibleIndex,onChangePanel:this.onChange,panelName:this.props.name||this.uniqId,panelType:"multiple"===this.props.mode?"checkbox":"radio",tabbordionId:this.props.id||this.uniqId}}},{key:"getNextState",value:function(e,t,n){var a=(0,h.getArray)(t.stateful?t.panels:n||e.panels),o=[],r=[],l=[],i="multiple"===e.mode;c.Children.forEach(e.children,function(e){if(e&&e.type.contextTypes&&e.type.contextTypes.tabbordionId){var t=e.props||e._store&&e._store.props||{},n=null!=t.index&&t.index,a=!1===n||r.includes(n);a?l.push(o.length):r.push(n),o.push({checked:t.checked,disabled:t.disabled,index:!a&&n,visible:t.visible})}});for(var s=0;l.length>0;){for(;r.includes(s);)s++;o[l.shift()].index=s,s++}var d=0,u=null,f=null,p=o.map(function(e,t){var n=a.find(function(t){return t.index===e.index})||{checked:o,disabled:r,visible:l},o=(null!=e.checked?e.checked:!!n.checked)&&(i||0===d),r=null!=e.disabled?e.disabled:!!n.disabled,l=null!=e.visible?e.visible:!1!==n.visible;return l&&(f=t,null==u&&(u=f)),o&&l&&d++,{checked:o,disabled:r,index:e.index,visible:l}});null!=u&&(0===d&&"multiple"!==e.mode&&"toggle"!==e.mode&&(p[u].checked=!0),u=p[u].index,f=p[f].index),this.firstVisibleIndex=u,this.lastVisibleIndex=f;var b=!e.onChange||!e.onPanels||!Array.isArray(e.panels);if(b){if(!t.stateful||(0,h.isShallowlyDifferentArray)(t.panels,p))return{panels:p,stateful:b}}else if((0,h.isShallowlyDifferentArray)(a,p)&&e.onPanels(p),t.stateful)return{panels:null,stateful:b};return t}},{key:"onChange",value:function(e){var t=this.props.mode;if(!this.state.stateful)return void this.props.onChange({index:e,mode:t});var n=this.state.panels.find(function(t){return t.index===e});if(null==n)throw new Error("Unexpected invalid panel index: "+e);var a=!1;switch(t){case"toggle":this.state.panels.forEach(function(e){e!==n&&e.checked&&(e.checked=!1)}),n.checked=!n.checked,a=!0;break;case"multiple":n.checked=!n.checked,a=!0;break;default:this.state.panels.forEach(function(e){e!==n&&e.checked&&(e.checked=!1,a=!0)}),n.checked||(n.checked=!0,a=!0)}a&&this.setState({panels:this.state.panels.slice(0)})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.component,a=(e.bemModifiers,e.bemSeparator,e.blockElements,e.component,e.initialPanels,e.mode,e.name,e.onChange,e.onPanels,e.panels),r=o(e,["children","component","bemModifiers","bemSeparator","blockElements","component","initialPanels","mode","name","onChange","onPanels","panels"]),l=0,i=this.state.stateful?this.state.panels:a;return f.default.createElement(n,d({},r,{role:"tablist"}),c.Children.map(t,function(e){if(e&&e.type.contextTypes&&e.type.contextTypes.tabbordionId){var t=f.default.cloneElement(e,i[l]);return l++,t}return e}))}}]),t}(c.PureComponent),g=t.tabbordionBlockElementTypes={content:b.default.string,label:b.default.string,panel:b.default.string},k=t.tabbordionModifierTypes={between:b.default.string,checked:b.default.string,content:b.default.string,disabled:b.default.string,enabled:b.default.string,first:b.default.string,hidden:b.default.string,last:b.default.string,noContent:b.default.string,unchecked:b.default.string};v.childContextTypes={bemModifiers:b.default.shape(k),bemSeparator:b.default.string,blockElements:b.default.shape(g),checkedPanels:b.default.array,disabledPanels:b.default.array,firstVisiblePanel:b.default.number,lastVisiblePanel:b.default.number,onChangePanel:b.default.func,panelName:b.default.string,panelType:b.default.oneOf(["checkbox","radio"]),tabbordionId:b.default.string},v.defaultProps={bemModifiers:{between:"between",checked:"checked",content:"content",disabled:"disabled",enabled:"enabled",first:"first",last:"last",noContent:"no-content",unchecked:"unchecked"},bemSeparator:"--",blockElements:{content:"panel__content",label:"panel__label",panel:"panel"},component:"ul",mode:"single"};var P=t.tabbordionPanelProps={checked:b.default.bool,disabled:b.default.bool,index:b.default.number,visible:b.default.bool};v.propTypes={bemModifiers:b.default.shape(k),bemSeparator:b.default.string,blockElements:b.default.shape(g),className:b.default.string,component:b.default.oneOfType([b.default.func,b.default.object,b.default.string]),id:b.default.string,initialPanels:b.default.arrayOf(b.default.shape(P)),mode:b.default.oneOf(["single","toggle","multiple"]),name:b.default.string,onChange:b.default.func,onPanels:b.default.func,panels:b.default.arrayOf(b.default.shape(P))},t.default=v},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";function a(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"--",o=e&&e[t]||null;if(null==o)return null;"string"!=typeof o&&(o=String(o));var r="",l=o.indexOf(" ");l>=0&&(r=o.slice(l),o=o.slice(0,l));var i=" "+o+a;if(r&&a){var s=" "+a;for(l=r.indexOf(s);l>=0;l=r.indexOf(s,l+o.length))r=r.replace(s,i)}return Array.isArray(n)?n.reduce(function(e,t){return null!=t?e+i+t:e},o)+r:o+r}Object.defineProperty(t,"__esModule",{value:!0}),t.bemClassName=a},function(e,t,n){"use strict";function a(e){return Array.isArray(e)&&e.length>0?e:d}function o(e){return e.checked}function r(e){return e.disabled}function l(e){return e.index}function i(e,t){if(e===t)return!1;var n=Object.keys(e||{}).sort(),a=Object.keys(t||{}).sort();return n.length!==a.length||n.some(function(n,o){return n!==a[o]||e[n]!==t[n]})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some(function(e,n){return i(e,t[n])})}Object.defineProperty(t,"__esModule",{value:!0}),t.getArray=a,t.getChecked=o,t.getDisabled=r,t.getIndex=l,t.isShallowlyDifferentArray=s;var d=[]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function r(e,t){var n=t.bemSeparator,a=t.blockElements,r=t.panelContentId,i=t.panelInputId,d=t.panelModifiers,u=e.className,f=e.component,p=o(e,["className","component"]),b=(0,c.bemClassName)(a,"content",d,n);return s.default.createElement(f,l({id:r},p,{"aria-labelledby":i,className:b?u?b+" "+u:b:u,role:"tabpanel"}))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(2),s=a(i),d=n(1),u=a(d),c=n(3),f=n(0);r.contextTypes={bemSeparator:u.default.string,blockElements:u.default.shape(f.tabbordionBlockElementTypes),panelContentId:u.default.string,panelInputId:u.default.string,panelModifiers:u.default.array},r.defaultProps={component:"div"},r.propTypes={className:u.default.string,component:u.default.oneOfType([u.default.func,u.default.object,u.default.string])},t.default=r},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":s(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(2),f=a(c),p=n(1),b=a(p),h=n(3),y=n(0),m=function(e){function t(e,n){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.onClick=a.onClick.bind(a),a}return i(t,e),u(t,[{key:"onClick",value:function(e){if(!e.defaultPrevented){var t=this.context.onClickPanelLabel;t&&t()}}},{key:"render",value:function(){var e=this.context,t=e.bemSeparator,n=e.blockElements,a=e.panelInputId,r=e.panelModifiers,l=this.props,i=l.className,s=l.component,u=o(l,["className","component"]),c=(0,h.bemClassName)(n,"label",r,t);return f.default.createElement(s,d({className:c?i?c+" "+i:c:i,htmlFor:a,onClick:this.onClick},u))}}]),t}(c.Component);m.contextTypes={bemSeparator:b.default.string,blockElements:b.default.shape(y.tabbordionBlockElementTypes),onClickPanelLabel:b.default.func,panelInputId:b.default.string,panelModifiers:b.default.array},m.defaultProps={component:"label"},m.propTypes={className:b.default.string,component:b.default.oneOfType([b.default.func,b.default.object,b.default.string])},t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":d(t))&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":d(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function s(e,t,n){var a=t.bemModifiers,o=t.bemSeparator,r=t.blockElements,l=t.checkedPanels,s=t.disabledPanels,d=t.firstVisiblePanel,u=t.lastVisiblePanel,p=t.onChangePanel,b=t.panelName,h=t.panelType,y=t.tabbordionId,m=e.checked,g=e.disabled,k=e.id,P=e.index,x=e.modifiers,O=e.name,C=e.type,_=e.value,w=e.visible,T=i(e,["checked","disabled","id","index","modifiers","name","type","value","visible"]);l=(0,v.getArray)(l),s=(0,v.getArray)(s);var j=(null!=O?O:b)||y||"tabbordion-panel-"+n,I=k||(y||j)+"-"+P,S=null!=m?m:l.includes(P),E=null!=g?g:s.includes(P),M=!1===w?"hidden":d===P&&"first"||u===P&&"last"||"between",N=null;return f.Children.forEach(T.children,function(e){e&&e.type.contextTypes&&e.type.contextTypes.panelContentId&&(N=(e.props||e._store&&e._store.props||{}).id||I+"-content")}),c({},T,{bemModifiers:a,bemSeparator:o,blockElements:r,checked:S,disabled:E,contentId:N,id:I,index:P,name:j,type:null!=C?C:h,value:null!=_?_:String(P),visible:M,checkedPanels:l,disabledPanels:s,modifiers:a?(0,v.getArray)(x).concat([a[S?"checked":"unchecked"],a[N?"content":"noContent"],a[E?"disabled":"enabled"],a[M]]):(0,v.getArray)(x),onChangePanel:p})}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f=n(2),p=a(f),b=n(9),h=n(1),y=a(h),m=n(3),v=n(4),g=n(0),k="undefined"!=typeof window&&"requestAnimationFrame"in window?window.requestAnimationFrame:setTimeout,P=0,x=0,O=function(e){function t(e,n){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return P++,a.uniqId=""+x,x++,a.cachedProps=s(e,n,a.uniqId),a.getInputRef=a.getInputRef.bind(a),a.onChange=a.onChange.bind(a),a.onClickLabel=a.onClickLabel.bind(a),a}return l(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e,t){this.cachedProps=s(e,t,this.uniqId)}},{key:"componentWillUnmount",value:function(){delete this.cachedProps,0===--P&&(x=0)}},{key:"getChildContext",value:function(){return{onClickPanelLabel:this.onClickLabel,panelChecked:this.cachedProps.checked,panelContentId:this.cachedProps.contentId,panelDisabled:this.cachedProps.disabled,panelInputId:this.cachedProps.id,panelIndex:this.cachedProps.index,panelModifiers:this.cachedProps.modifiers,panelVisible:this.cachedProps.visible}}},{key:"getInputRef",value:function(e){this.input=e}},{key:"onChange",value:function(e){if(!e.defaultPrevented){var t=this.cachedProps,n=t.index,a=t.onChange;a&&a(n)}}},{key:"onClickLabel",value:function(){var e=this,t=this.cachedProps,n=t.index,a=t.onChangePanel;a&&a(n),k(function(){var t=(0,b.findDOMNode)(e.input);t&&t.checked&&document.activeElement!==t&&t.focus()})}},{key:"render",value:function(){var e=this.cachedProps,t=(e.bemModifiers,e.bemSeparator),n=e.blockElements,a=e.checked,o=(e.checkedPanels,e.children),r=e.className,l=e.component,s=e.contentId,d=e.disabled,u=(e.disabledPanels,e.id),f=(e.index,e.modifiers),b=(e.onChangePanel,e.name),h=e.style,y=e.type,v=e.value,g=e.visible,k=i(e,["bemModifiers","bemSeparator","blockElements","checked","checkedPanels","children","className","component","contentId","disabled","disabledPanels","id","index","modifiers","onChangePanel","name","style","type","value","visible"]),P=(0,m.bemClassName)(n,"panel",f,t),x=a?"true":"false";return p.default.createElement(l,c({},k,{"aria-expanded":s&&x,"aria-selected":x,className:P?r?P+" "+r:P:r,role:"tab",style:c({},h,{display:"hidden"===g?"none":null})}),p.default.createElement("input",{"aria-controls":s,checked:a,"data-state":"tabbordion",disabled:d,id:u,name:b,onChange:this.onChange,ref:this.getInputRef,type:y,value:v}),o)}}]),t}(f.PureComponent);O.childContextTypes={onClickPanelLabel:y.default.func,panelChecked:y.default.bool,panelContentId:y.default.string,panelDisabled:y.default.bool,panelInputId:y.default.string,panelIndex:y.default.number,panelModifiers:y.default.array,panelVisible:y.default.oneOf(["between","first","hidden","last"])},O.contextTypes={bemModifiers:y.default.shape(g.tabbordionModifierTypes),bemSeparator:y.default.string,blockElements:y.default.shape(g.tabbordionBlockElementTypes),checkedPanels:y.default.array,disabledPanels:y.default.array,firstVisiblePanel:y.default.number,lastVisiblePanel:y.default.number,onChangePanel:y.default.func,panelName:y.default.string,panelType:y.default.oneOf(["checkbox","radio"]),tabbordionId:y.default.string},O.defaultProps={component:"li"},O.propTypes={checked:y.default.bool,className:y.default.string,disabled:y.default.bool,id:y.default.string,index:y.default.number,name:y.default.string,onChange:y.default.func,type:y.default.oneOf(["checkbox","radio"]),value:y.default.string,visible:y.default.bool,children:y.default.node,component:y.default.oneOfType([y.default.func,y.default.object,y.default.string]),modifiers:y.default.array},t.default=O},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TabContent=t.TabLabel=t.TabPanel=t.Tabbordion=void 0;var o=n(0),r=a(o),l=n(7),i=a(l),s=n(6),d=a(s),u=n(5),c=a(u);t.Tabbordion=r.default,t.TabPanel=i.default,t.TabLabel=d.default,t.TabContent=c.default},function(e,t){e.exports=n}])});